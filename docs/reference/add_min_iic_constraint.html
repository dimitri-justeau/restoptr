<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Add constraint to a restoration problem (restopt_problem()) object
to specify the minimum integral index of connectivity of a solution."><title>Add constraint to enforce a minimum integral index of connectivity (IIC) value — add_min_iic_constraint • restoptr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Add constraint to enforce a minimum integral index of connectivity (IIC) value — add_min_iic_constraint"><meta property="og:description" content="Add constraint to a restoration problem (restopt_problem()) object
to specify the minimum integral index of connectivity of a solution."><meta property="og:image" content="https://dimitri-justeau.github.io/restoptr/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">restoptr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/restoptr.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/case_study.html">Case study: using historical data to set ecological restoration targets</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/dimitri-justeau/restoptr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Add constraint to enforce a minimum integral index of connectivity (IIC) value</h1>
      <small class="dont-index">Source: <a href="https://github.com/dimitri-justeau/restoptr/blob/HEAD/R/add_min_iic_constraint.R" class="external-link"><code>R/add_min_iic_constraint.R</code></a></small>
      <div class="d-none name"><code>add_min_iic_constraint.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Add constraint to a restoration problem (<code><a href="restopt_problem.html">restopt_problem()</a></code>) object
to specify the minimum integral index of connectivity of a solution.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">add_min_iic_constraint</span><span class="op">(</span>
  <span class="va">problem</span>,
  <span class="va">min_iic</span>,
  distance_threshold <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>,
  unit <span class="op">=</span> <span class="st">"m"</span>,
  precision <span class="op">=</span> <span class="fl">4</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>problem</dt>
<dd><p><code><a href="restopt_problem.html">restopt_problem()</a></code> Restoration problem object.</p></dd>
<dt>min_iic</dt>
<dd><p><code>numeric</code> Minimum IIC value (between 0 and 1).</p></dd>
<dt>distance_threshold</dt>
<dd><p><code>numeric</code> greater than 0. Minimum distance (in
<code>unit</code>) between two patches to consider them connected in the computation of
the IIC. The default value -1 causes the function to use 1 aggregated cell as
the distance threshold.</p></dd>
<dt>unit</dt>
<dd><p><code>unit</code> object or a <code>character</code> that can be coerced to a distance
unit (see <code>unit</code> package), or "cells" for cell width of aggregated
habitat raster. Units of the <code>distance_threshold</code> parameter. If the input
habitat raster does not use a projected coordinate system, only "cells" is
available. Meters by default, expected if <code>distance_threshold</code> is set to its
default value (-1), which causes the function to use 1 cell by default.</p></dd>
<dt>precision</dt>
<dd><p><code>integer</code> Precision for calculations.
Defaults to 4.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An updated restoration problem (<code><a href="restopt_problem.html">restopt_problem()</a></code>) object.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The integral index of connectivity (IIC) is a graph-based inter-patch
connectivity index based on a binary connection model (Pascual-Hortal &amp;
Saura, 2006). Its maximization in the context of restoration favours
restoring the structural connectivity between large patches. IIC is unitless
and comprised between 0 (no connectivity) and 1 (all the landscape is
habitat, thus fully connected). The <code>distance_threshold</code> parameter indicates
to the solver how to construct the habitat graph, i.e. what is the minimum
distance between two patches to consider them as connected. Note that, as
the computation occurs on aggregated cells, if <code>distance_threshold</code> is used
with a different unit than "cells", it will be rounded to the closest
corresponding number of cells.</p>
<p>The effective mesh size (MESH) is a measure of landscape fragmentation
based on the probability that two randomly chosen points are located in the
same patch (Jaeger, 2000). Maximizing it in the context of restoration
favours fewer and larger patches.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Pascual-Hortal, L., &amp; Saura, S. (2006).
Comparison and development of new graph-based landscape connectivity indices:
Towards the priorization of habitat patches and corridors for conservation.
Landscape Ecology, 21(7), 959‑967. https://doi.org/10.1007/s10980-006-0013-z</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="set_max_iic_objective.html">set_max_iic_objective</a></p>
<p>Other constraints: 
<code><a href="add_available_areas_constraint.html">add_available_areas_constraint</a>()</code>,
<code><a href="add_compactness_constraint.html">add_compactness_constraint</a>()</code>,
<code><a href="add_components_constraint.html">add_components_constraint</a>()</code>,
<code><a href="add_connected_constraint.html">add_connected_constraint</a>()</code>,
<code><a href="add_locked_out_constraint.html">add_locked_out_constraint</a>()</code>,
<code><a href="add_min_mesh_constraint.html">add_min_mesh_constraint</a>()</code>,
<code><a href="add_restorable_constraint.html">add_restorable_constraint</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># \donttest{</span></span>
<span class="r-in"><span class="co"># load data</span></span>
<span class="r-in"><span class="va">habitat_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/rast.html" class="external-link">rast</a></span><span class="op">(</span></span>
<span class="r-in">  <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"habitat_hi_res.tif"</span>, package <span class="op">=</span> <span class="st">"restoptr"</span><span class="op">)</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">locked_out_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/rast.html" class="external-link">rast</a></span><span class="op">(</span></span>
<span class="r-in"> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"locked_out.tif"</span>, package <span class="op">=</span> <span class="st">"restoptr"</span><span class="op">)</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># create problem with locked out constraints</span></span>
<span class="r-in"><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="restopt_problem.html">restopt_problem</a></span><span class="op">(</span></span>
<span class="r-in">    existing_habitat <span class="op">=</span> <span class="va">habitat_data</span>,</span>
<span class="r-in">    aggregation_factor <span class="op">=</span> <span class="fl">16</span>,</span>
<span class="r-in">    habitat_threshold <span class="op">=</span> <span class="fl">0.7</span></span>
<span class="r-in">  <span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu">add_min_iic_constraint</span><span class="op">(</span><span class="fl">0.2</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="add_restorable_constraint.html">add_restorable_constraint</a></span><span class="op">(</span></span>
<span class="r-in">    min_restore <span class="op">=</span> <span class="fl">200</span>,</span>
<span class="r-in">    max_restore <span class="op">=</span> <span class="fl">300</span>,</span>
<span class="r-in">  <span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="add_locked_out_constraint.html">add_locked_out_constraint</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">locked_out_data</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="add_compactness_constraint.html">add_compactness_constraint</a></span><span class="op">(</span><span class="fl">2500</span>, unit <span class="op">=</span> <span class="st">"m"</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="add_settings.html">add_settings</a></span><span class="op">(</span>time_limit <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># print problem</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00; font-weight: bold;">-----------------------------------------------------------------</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00; font-weight: bold;">                         Restopt                         </span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00; font-weight: bold;">-----------------------------------------------------------------</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBBBB; font-weight: bold;">original habitat:    </span> <span style="color: #00BBBB;">habitat_hi_res.tif</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBBBB; font-weight: bold;">aggregation factor:  </span> <span style="color: #00BBBB;">16</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBBBB; font-weight: bold;">habitat threshold:   </span> <span style="color: #00BBBB;">0.7</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBBBB; font-weight: bold;">existing habitat:    </span> <span style="color: #00BBBB;">in memory</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBBBB; font-weight: bold;">restorable habitat:  </span> <span style="color: #00BBBB;">in memory</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">-----------------------------------------------------------------</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBBBB; font-weight: bold;">objective:           </span> <span style="color: #0000BB;">No optimization objective</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">-----------------------------------------------------------------</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBBBB; font-weight: bold;">constraints:        </span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">  -  min IIC (min_iic = 0.2, distance_threshold = 1, unit = cells, precision = 4)</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">  -  restorable (min_restore = 200, max_restore = 300, min_proportion = 1, unit = ha)</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">  -  locked out (data = in memory)</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">  -  compactness (max_diameter = 2500, unit = m)</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">-----------------------------------------------------------------</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBBBB; font-weight: bold;">settings:</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB00BB;">  - precision = 4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB00BB;">  - time_limit = 1</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB00BB;">  - nb_solutions = 1</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB00BB;">  - optimality_gap = 0</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00; font-weight: bold;">-----------------------------------------------------------------</span> </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># solve problem</span></span>
<span class="r-in"><span class="va">s</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/solve.html" class="external-link">solve</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">Good news: the solver found 1 solution satisfying the constraints ! (solving time = 0.26 s)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># plot solution</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">s</span><span class="op">)</span></span>
<span class="r-plt img"><img src="add_min_iic_constraint-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span class="co"># }</span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://dimitri-justeau.github.io/" class="external-link">Dimitri Justeau-Allaire</a>, <a href="https://jeffrey-hanson.com" class="external-link">Jeffrey O Hanson</a>, <a href="https://ecology.ghislainv.fr/" class="external-link">Ghislain Vieilledent</a>, <a href="https://www.lirmm.fr/~vismara/home.php" class="external-link">Philippe Vismara</a>, <a href="https://scholar.google.fr/citations?user=bJTn9u8AAAAJ&amp;hl=fr" class="external-link">Xavier Lorca</a>, <a href="https://scholar.google.com/citations?user=00W5veEAAAAJ&amp;hl=fr=" class="external-link">Philippe Birnbaum</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

    </footer></div>

  

  

  </body></html>

